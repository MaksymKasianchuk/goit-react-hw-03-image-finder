{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.scss","components/Modal/Modal.module.scss","components/ImageGallery/ImageGallery.module.scss","components/Button/Button.module.scss","components/Loader/Loader.module.scss","api/settings.js","api/index.js","components/SearchBar/SearchBar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","App.js","index.js","components/SearchBar/SearchBar.module.scss"],"names":["module","exports","BASE_URL","setting","API_KEY","axios","defaults","baseURL","Api","fetchPhotos","query","page","perPage","get","then","response","data","SearchBar","state","handleChange","event","value","target","setState","handleSubmit","preventDefault","props","onSubmit","reset","this","className","styles","searchBar","searchForm","type","button","input","autoComplete","autoFocus","placeholder","onChange","React","Component","ImageGalleryItem","webformatURL","largeImageURL","galleryItem","src","alt","data-source","galleryImage","ImageGallery","images","onClick","gallery","map","id","defaultProps","Button","styledLoader","color","loader","modalRootRef","document","querySelector","Modal","handleKeyDown","keyCode","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","overlay","modal","children","App","searchQuery","currentPage","isLoading","showModal","imageUrl","hendleQueryChange","fetchImages","options","hits","prevState","scrollTo","top","documentElement","scrollHeight","behavior","catch","error","alert","console","log","finally","openModal","nodeName","dataset","source","closeModal","prevProps","existImagesToShow","length","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.43998c20.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryItem\":\"ImageGalleryItem_galleryItem__3WkZU\",\"galleryImage\":\"ImageGalleryItem_galleryImage__99SGX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3DIQD\",\"modal\":\"Modal_modal__2DuYC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__W3Dpk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3lmQA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__11iM1\"};","// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default {\r\n    BASE_URL: 'https://pixabay.com/api',\r\n    API_KEY: '20725860-716e2490a7269985c8ea1b39a',\r\n};","import setting from './settings';\r\nimport axios from 'axios';\r\n\r\nconst { BASE_URL, API_KEY } = setting;\r\n\r\naxios.defaults.baseURL = BASE_URL;\r\n\r\nconst Api = {\r\n  fetchPhotos({ query, page, perPage = 12 }) {\r\n    return axios\r\n      .get(\r\n        `/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${perPage}`,\r\n      )\r\n      .then(response => response.data);\r\n  },\r\n};\r\n\r\nexport default Api;","import React from 'react';\r\nimport styles from './SearchBar.module.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass SearchBar extends React.Component {\r\n    state = {\r\n      query: '',\r\n    };\r\n  \r\n    handleChange = event => {\r\n      const { value } = event.target;\r\n      this.setState({ query: value });\r\n    };\r\n  \r\n    handleSubmit = event => {\r\n      const { query } = this.state;\r\n  \r\n      event.preventDefault();\r\n  \r\n      this.props.onSubmit(query);\r\n      this.reset();\r\n    };\r\n  \r\n    reset = () => {\r\n      this.setState({ query: '' });\r\n    };\r\n  \r\n    render() {\r\n      const { query } = this.state;\r\n  \r\n      return (\r\n        <header className={styles.searchBar}>\r\n          <form className={styles.searchForm} onSubmit={this.handleSubmit}>\r\n            <button type=\"submit\" className={styles.button}>\r\n              Search\r\n            </button>\r\n  \r\n            <input\r\n              className={styles.input}\r\n              type=\"text\"\r\n              value={query}\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n              onChange={this.handleChange}\r\n            />\r\n          </form>\r\n        </header>\r\n      );\r\n    }\r\n  }\r\n  \r\n  SearchBar.propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n  \r\n  export default SearchBar;","import styles from './ImageGalleryItem.module.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ webformatURL, largeImageURL }) => (\r\n  <li className={styles.galleryItem}>\r\n    <img\r\n      src={webformatURL}\r\n      alt=\"\"\r\n      data-source={largeImageURL}\r\n      className={styles.galleryImage}\r\n    />\r\n  </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import ImageGalleryItem from '../ImageGalleryItem';\r\nimport styles from './ImageGallery.module.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ images, onClick }) => (\r\n<ul className={styles.gallery} onClick={onClick}>\r\n    {images.map(({ id, webformatURL, largeImageURL }) => (\r\n      <ImageGalleryItem\r\n        key={id}\r\n        webformatURL={webformatURL}\r\n        largeImageURL={largeImageURL}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nImageGallery.defaultProps = {\r\n  onClick: () => {},\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({ id: PropTypes.number.isRequired }),\r\n  ).isRequired,\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default ImageGallery;","import styles from './Button.module.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ onClick }) => (\r\n    <button type=\"button\" onClick={onClick} className={styles.button}>Load more</button>\r\n);\r\n\r\nButton.propTypes ={\r\n    onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import Loader from 'react-loader-spinner';\r\nimport styles from './Loader.module.scss';\r\n\r\nconst styledLoader = () => (\r\n  <Loader type=\"ThreeDots\" color=\"#DA2C43\" className={styles.loader} />\r\n);\r\n\r\nexport default styledLoader;","import React from 'react';\r\nimport {createPortal} from 'react-dom';\r\nimport styles from './Modal.module.scss';\r\n\r\nconst modalRootRef = document.querySelector('#modal-root');\r\n\r\nclass Modal extends React.Component {\r\n\r\n    componentDidMount(){\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        window.removeEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n    handleKeyDown = event => {\r\n        const {keyCode} = event;\r\n        if(keyCode === 27) this.props.onClose();\r\n    };\r\n\r\n    handleBackdropClick = event => {\r\n        if(event.currentTarget === event.target) this.props.onClose();\r\n    };\r\n\r\n    render() {\r\n        return createPortal(\r\n            <div className={styles.overlay} onClick={this.handleBackdropClick}>\r\n                <div className={styles.modal}>{this.props.children}</div>\r\n            </div>,\r\n            modalRootRef,\r\n        );\r\n    }\r\n}\r\n\r\nexport default Modal;","import React from 'react';\r\nimport Api from './api';\r\nimport Searchbar from './components/SearchBar';\r\nimport ImageGallery from './components/ImageGallery';\r\nimport Button from './components/Button';\r\nimport Loader from './components/Loader';\r\nimport Modal from './components/Modal';\r\n\r\nclass App extends React.Component {\r\n\r\n    state = {\r\n        images: [],\r\n        searchQuery: '',\r\n        currentPage: 1,\r\n        isLoading: false,\r\n        showModal: false,\r\n        imageUrl: '',\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const { searchQuery } = this.state;\r\n        if(searchQuery !== prevState.searchQuery) this.fetchImages();\r\n    }\r\n\r\n    hendleQueryChange = query => {\r\n        this.setState({ images: [], searchQuery: query, currentPage: 1});\r\n    };\r\n\r\n    fetchImages = () => {\r\n        const {currentPage, searchQuery} = this.state;\r\n        const options = {query: searchQuery, page: currentPage};\r\n        \r\n        Api.fetchPhotos(options).then(({ hits }) => {\r\n            this.setState(prevState => ({ images: [...prevState.images,...hits], currentPage: prevState.currentPage + 1 }));\r\n        })\r\n        .then(() => {\r\n            window.scrollTo({\r\n              top: document.documentElement.scrollHeight,\r\n              behavior: 'smooth',\r\n          });\r\n        })\r\n        .catch(error => {\r\n            alert('Error occured, please try again');\r\n            console.log(error);\r\n        })\r\n        .finally(() => this.setState({ isLoading: false }));\r\n    };\r\n    openModal = event => {\r\n        const { target } = event;\r\n        if (target.nodeName === 'IMG') {\r\n          this.setState({ showModal: true, imageUrl: target.dataset.source });\r\n        }\r\n    };\r\n    \r\n    closeModal = () => {\r\n        this.setState({ showModal: false, imageUrl: '' });\r\n    };\r\n    \r\n    render() {\r\n        const { images, isLoading, showModal, imageUrl } = this.state;\r\n        const existImagesToShow = images.length > 0;\r\n    \r\n        return (\r\n          <>\r\n            <Searchbar onSubmit={this.hendleQueryChange} />\r\n            <ImageGallery images={images} onClick={this.openModal} />\r\n            {showModal && (\r\n              <Modal onClose={this.closeModal}>\r\n                <img src={imageUrl} alt=\"\" />\r\n              </Modal>\r\n            )}\r\n            {isLoading && <Loader />}\r\n            {existImagesToShow && !isLoading && (\r\n              <Button onClick={this.fetchImages} />\r\n            )}\r\n          </>\r\n        );\r\n      }\r\n    \r\n}\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"SearchBar_searchBar__1RuQB\",\"searchForm\":\"SearchBar_searchForm__3ha9X\",\"button\":\"SearchBar_button__SvYk1\",\"input\":\"SearchBar_input__2--DC\"};"],"sourceRoot":""}